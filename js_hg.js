function 嫔妃一览程序(i,n){feiziyilan.style.display="block";var l=[];if(0==i||1==i||4==i||6==i||7==i||8==i||11==i||14==i||15==i||999==i)for(var e=0;e<_all_feizi.length;)"秀女"!==_all_feizi[e].位分&&void 0!==_all_feizi[e].地位&&l.push(_all_feizi[e]),e+=1;else if(10==i)for(e=0;e<_all_feizi.length;)0!==_all_feizi[e].病&&l.push(_all_feizi[e]),e+=1;else if(13==i)for(e=0;e<主角.掖庭.length;)l.push(主角.掖庭[e]),e+=1;else if(88==i||89==i)for(e=0;e<_all_feizi.length;)"秀女"!=_all_feizi[e].位分&&null!=_all_feizi[e].地位||l.push(_all_feizi[e]),e+=1;else for(e=0;e<_all_feizi.length;)0!==_all_feizi[e].地位&&"秀女"!==_all_feizi[e].位分&&void 0!==_all_feizi[e].地位&&l.push(_all_feizi[e]),e+=1;序列=0,l.sort(compare("地位")),刷新妃嫔信息(i,l,序列,n),id("feiziyilanqian").onclick=function(){0<序列&&(--序列,刷新妃嫔信息(i,l,序列,n))},id("feiziyilanhou").onclick=function(){序列<Math.round(l.length/10)&&(序列+=1,刷新妃嫔信息(i,l,序列,n))};var a=0;id("fznl").onclick=function(){a=0==a?(排序计算程序(l,"年龄",0),1):(排序计算程序(l,"年龄",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)},id("fzmh").onclick=function(){a=0==a?(排序计算程序(l,"地位",0),1):(排序计算程序(l,"地位",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)},id("fzen").onclick=function(){a=0==a?(排序计算程序(l,"生育",0),1):(排序计算程序(l,"生育",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)},id("fzml").onclick=function(){a=0==a?(排序计算程序(l,"魅力",0),1):(排序计算程序(l,"魅力",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)},id("fzjy").onclick=function(){a=0==a?(排序计算程序(l,"经验",0),1):(排序计算程序(l,"经验",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)},id("fza").onclick=function(){a=0==a?(排序计算程序(l,"爱",0),1):(排序计算程序(l,"爱",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)},id("fzzt").onclick=function(){a=0==a?(排序计算程序(l,"状态",0),1):(排序计算程序(l,"状态",1),0),序列=0,刷新妃嫔信息(i,l,序列,n)}}function 刷新妃嫔信息(i,n,l,e){for(var a=0;a<className("feizilbx").length;){var s=n[10*l+a];null==s?className("feizilbx")[a].style.display="none":(className("feizilbx")[a].style.display="block",1e3<=s._code&&s._code<=6999||14e3<=s._code&&s._code<=14999?className("f1")[a].style.color="#ffd0cb":className("f1")[a].style.color="#ffffff",className("f1")[a].innerText=s.名字,className("f2")[a].innerText=s.家族,null==s.家族&&(className("f2")[a].innerText="无"),className("f3")[a].innerText=s.年龄,10==i&&"秀女"==s.位分?(className("f4")[a].innerText=s.封号+s.位分,className("f5")[a].innerText=""):88!==i&&89!==i&&(className("f4")[a].innerText=s.封号+s.位分,className("f5")[a].innerText=_all_palace[s.宫殿].名称),className("f6")[a].innerText=s.生育,className("f7")[a].innerText=s.魅力,className("f8")[a].innerText=s.经验,className("f9")[a].innerText=s.爱,0<s.病?(className("f10")[a].innerText="病",className("f10")[a].style.color="#0055ff"):0<s.孕?(className("f10")[a].innerText="孕",className("f10")[a].style.color="#ffe200"):(className("f10")[a].innerText="正常",className("f10")[a].style.color="#ffffff"),13!=i&&88!=i&&89!=i||(className("f4")[a].innerText="",className("f5")[a].innerText="",className("f9")[a].innerText=s.爱)),className("feizilbx")[a].取=s,className("feizilbx")[a].onclick=function(){0==i?出现这个妃嫔的介绍(this.取):5==i?(feiziyilan.style.display="none",选择去哪个宫殿(99,this.取)):6==i?(赏赐这个妃子确定(this.取,e),feiziyilan.style.display="none"):7==i?(赏赐这个妃子成药确定(this.取,e),feiziyilan.style.display="none"):8==i?(查看血滴子详情程序(1,this.取,"暗查妃子"),feiziyilan.style.display="none"):9==i?(选哪位娘娘出去玩呢(this.取),feiziyilan.style.display="none"):10==i?(id(),安排御医(2,this.取),feiziyilan.style.display="none"):11==i?(赏赐这个妃子(this.取,e),feiziyilan.style.display="none"):12==i?掖庭程序(this.取):13==i?放出掖庭(this.取):15==i?(缓动黑幕(),批量赏赐界面(0,this.取,"妃子"),feiziyilan.style.display="none"):88==i?出现这个秀女的介绍(this.取,3):89==i&&子女一览程序(17,this.取),999==i&&出现这个妃嫔的介绍(this.取,i)},a+=1}}function 出现这个妃嫔的介绍(i,n){id("介绍图").style.display="block",id("介绍图an1").style.display="block",id("介绍图an0").style.display="none",id("介绍图an3").innerText="关闭",出现这个人的头像(id("介绍图头像"),i),id("介绍图名字").innerText=i.名字,id("介绍图介绍").innerText="文化圈："+_all_nation[i.文化].文化,id("介绍图介绍").innerText+="\n性格："+出现性格(i),id("介绍图介绍").innerText+="\n出身："+i.出身,id("介绍图介绍").innerText+="\n寝殿："+_all_palace[i.宫殿].名称+_all_palace[i.宫殿].内殿[i.寝殿],id("介绍图介绍").innerText+="\n介绍：\n    ",id("介绍图介绍").innerText+=导出介绍(i),id("介绍图an2").style.display="block",id("介绍图an2").innerText="事宜",id("介绍图an1").innerText="记事",id("介绍图an1").onclick=function(){查看这个妃子的记事(i.id)},id("介绍图an2").onclick=function(){id("介绍图").style.display="none",妃嫔事宜(i)},id("介绍图an3").onclick=function(){id("介绍图").style.display="none"},999==n&&(id("介绍图an2").style.display="none")}function 出现这个秀女的介绍(i,n,l,e){id("介绍图").style.display="block",id("介绍图an3").innerText="关闭",id("介绍图an3").onclick=function(){id("介绍图").style.display="none"},id("介绍图an0").style.display="none",id("介绍图an1").style.display="none",出现这个人的头像(id("介绍图头像"),i),id("介绍图名字").innerText=i.名称,id("介绍图介绍").innerText="文化圈："+_all_nation[i.文化].文化,id("介绍图介绍").innerText+="\n性格："+出现性格(i),1==i.性别&&(id("介绍图介绍").innerText+="\n出身："+i.出身),0==n?(id("介绍图名字").innerText=i.名字,id("介绍图介绍").innerText+="\n魅力："+i.魅力,id("介绍图an2").style.display="none"):1==n||9==n?(id("介绍图介绍").innerText+="\n财富："+i.家产+"万",id("介绍图介绍").innerText+="\n修养："+修养[i.修养],id("介绍图介绍").innerText+="\n魅力："+i.魅力,id("介绍图an2").style.display="block",1==n?(出现这个人的头像(id("介绍图头像"),i,0),id("介绍图名字").innerText=i.名称,l.innerText==i.名称?(id("介绍图an2").innerText="留牌",id("介绍图an2").onclick=function(){l.innerText="【"+l.innerText+"】",id("介绍图").style.display="none"}):(id("介绍图an2").innerText="撂牌",id("介绍图an2").onclick=function(){l.innerText=i.名称,id("介绍图").style.display="none"})):9==n&&(id("介绍图an2").innerText="选中",id("介绍图an2").onclick=function(){id("介绍图").style.display="none",皇子是否中意(i,l,e)})):3==n?(id("介绍图an1").style.display="block",id("介绍图an1").innerText="驱逐出宫",id("介绍图an2").style.display="block",id("介绍图an1").onclick=function(){id("介绍图").style.display="none",id("hukoupucha").style.display="block",id("huhouTitle").innerText="驱逐出宫",id("huhouText").innerText="确认要将秀女"+i.名字+"驱逐出宫吗？",id("hkan0").innerText="确定",id("hkan1").innerText="取消",id("hkan0").onclick=function(){id("hukoupucha").style.display="none",删除跟这个人有关的三方相性(i),删除这个妃子的值(i),嫔妃一览程序(88)},id("hkan1").onclick=function(){id("hukoupucha").style.display="none"}},id("介绍图an2").innerText="册封名号",id("介绍图名字").innerText=i.名字,id("介绍图an2").onclick=function(){册封名号(i,78),id("介绍图").style.display="none",feiziyilan.style.display="none",id("neishiMB").style.display="none"}):id("介绍图an2").style.display="none",id("介绍图介绍").innerText+="\n介绍：\n",5==n?(id("jiajuanyilan").style.display="none",id("介绍图介绍").innerText+=i.婚配序号+"的"+i.身份+"。",id("介绍图an3").onclick=function(){id("介绍图").style.display="none",人才列表显示(0)}):id("介绍图介绍").innerText+=导出介绍(i)}function 妃嫔事宜(i){id("sy").style.display="block",id("syb").style.display="block",id("syTitle").innerText="妃嫔事宜",id("sysm").innerText="";for(var n=0;n<15;)className("sydb")[n].style.display=n<6?"block":"none",n++;0==i.地位?(className("sydb")[3].style.display="none",className("sydb")[4].style.display="none",className("sydb")[0].style.display="none",className("sydb")[1].style.display="none"):(className("sydb")[4].style.display="block",className("sydb")[3].style.display="block",className("sydb")[0].style.display="block",className("sydb")[1].style.display="block"),className("sydb")[0].innerText="晋位",className("sydb")[1].innerText="降位",className("sydb")[2].innerText="更改封号",className("sydb")[3].innerText="送入掖庭",className("sydb")[4].innerText="打入冷宫",className("sydb")[5].innerText="更改资料",className("sydb")[0].onclick=function(){id("feiziyilan").style.display="none",id("sy").style.display="none",册封名号(i,10)},className("sydb")[1].onclick=function(){id("feiziyilan").style.display="none",id("sy").style.display="none",册封名号(i,11)},className("sydb")[2].onclick=function(){id("feiziyilan").style.display="none",id("sy").style.display="none",id("cf").style.display="block",id("wfb").style.display="none",id("御赐封号").style.display="block",id("cfsm").innerText="御赐封号",id("册封取消").onclick=function(){id("御赐封号").style.display="none"},id("输入封号").value=i.封号,id("随机封号").onclick=function(){i.地位<2||"皇贵妃"==i.位分||"夫人"==i.位分?(id("输入封号").value=皇家名字女字[random(皇家名字女字.length)]+皇家名字女字[random(皇家名字女字.length)],id("随机封号").onclick=function(){id("输入封号").value=皇家名字女字[random(皇家名字女字.length)]+皇家名字女字[random(皇家名字女字.length)]},id("输入封号").maxLength="2"):(id("输入封号").maxLength="1",id("随机封号").onclick=function(){id("输入封号").value=皇家名字女字[random(皇家名字女字.length)]})},id("御赐封号确定").onclick=function(){id("御赐封号").style.display="none",id("cf").style.display="none",i.封号=id("输入封号").value,出圣旨(i.名字+"改封号为"+i.封号+"。"),后宫记事记档(颜色代码(i.名字,"ff0000")+"赐号"+颜色代码(i.封号,"5f5ffc")+"。",i.id),嫔妃一览程序(0)}},className("sydb")[3].onclick=function(){id("feiziyilan").style.display="none",id("sy").style.display="none",掖庭程序(i)},className("sydb")[4].onclick=function(){id("feiziyilan").style.display="none",id("sy").style.display="none",冷宫执行程序(i)},className("sydb")[5].onclick=function(){更改妃子资料(i)}}function 更改妃子资料(i){id("syb").style.display="none",id("syb2").style.display="block",id("syTitle").innerText="更改资料",id("sysm").innerText="";for(var n=0;n<32;)className("sydb2")[n].style.display=n<2?"block":"none",n++;className("sydb2")[0].innerText="赐名",className("sydb2")[1].innerText="更改介绍",id("qxsy").onclick=function(){id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none"},className("sydb2")[0].onclick=function(){_loc1_=i.封号+i.位分+i.名字,id("御赐").style.display="block",id("ycsm").innerText="赐名",id("ycts").innerText="请输入姓氏,不超过4个字",id("输入").value=i.家族,id("输入").maxLength="4",id("随机一个").onclick=function(){id("输入").value=姓[random(姓.length)]},id("御赐确定").onclick=function(){i.封号==i.家族&&(i.封号=id("输入").value),i.家族=id("输入").value,id("ycsm").innerText="赐名",id("ycts").innerText="请输入名字,不超过6个字。如需资料里名字带姓，请姓和名一起输入",id("输入").value=i.名字,id("输入").maxLength="6",id("随机一个").onclick=function(){},id("御赐确定").onclick=function(){i.名字!==id("输入").value&&0<id("输入").value.length?(改变母亲生母(i,id("输入").value),_loc4_=i.名字,i.名字=id("输入").value,i.名称=id("输入").value,id("御赐").style.display="none",id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none",出圣旨(_loc1_+"赐姓"+i.家族+"，赐名"+i.名字+"。"),后宫记事记档(颜色代码(_loc4_,"ff0000")+"赐姓"+颜色代码(i.家族,"5f5ffc")+"，赐名"+颜色代码(i.名字,"ff0000")+"。",i.id),嫔妃一览程序(0)):(id("御赐").style.display="none",id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none")}}},className("sydb2")[1].onclick=function(){id("御赐").style.display="block",id("ycsm").innerText="更改介绍",id("ycts").innerText="请输入介绍,不超过180个字。什么也不输，取消更改。",id("输入").value="",id("输入").maxLength="180",id("随机一个").onclick=function(){},id("御赐确定").onclick=function(){0<id("输入").value.length&&(i.介绍=id("输入").value),id("御赐").style.display="none",id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none",嫔妃一览程序(0)}}}function 计算后宫开销(){for(var i=0,n=0;n<_all_feizi.length;){null==_all_feizi[n].地位||"秀女"==_all_feizi[n].位分?_all_feizi[n].月例=1e3:_all_feizi[n].月例=1e3*(后宫位分.length+3)-1e3*_all_feizi[n].地位,_all_feizi[n].吃穿=Math.round(3e3*(2-国家.协理六宫[1]/100)*(2-_all_feizi[n].清廉/100)),_all_feizi[n].宫人俸禄=0,_all_feizi[n].太监=0,_all_feizi[n].宫女=0;for(var l=_all_feizi[n].护=0;l<_all_taijian.length;)_all_taijian[l].主子==_all_feizi[n].id&&(_all_feizi[n].宫人俸禄+=150*_all_taijian[l].能力,_all_taijian[l].俸禄=150*_all_taijian[l].能力,_all_feizi[n].太监+=1,_all_feizi[n].护+=_all_taijian[l].能力),l+=1;for(var e=0;e<_all_gongnv.length;)_all_gongnv[e].主子==_all_feizi[n].id&&(_all_feizi[n].宫人俸禄+=150*_all_gongnv[e].能力,_all_gongnv[e].俸禄=150*_all_gongnv[e].能力,_all_feizi[n].宫女+=1,_all_feizi[n].护+=_all_gongnv[e].能力),e+=1;_all_feizi[n].总计=_all_feizi[n].月例+_all_feizi[n].吃穿+_all_feizi[n].宫人俸禄,i+=_all_feizi[n].总计,n+=1}for(e=0;e<_all_gongnv.length;)null==_all_gongnv[e].主子&&(i+=100,_all_gongnv[e].俸禄=100),e+=1;for(e=0;e<_all_taijian.length;)null==_all_taijian[e].主子&&(i+=100,_all_taijian[e].俸禄=100),e+=1;return i}function 强制放入后宫人物(i,n){var l=new Object;l._code=i._code,l.年龄=i.年龄,l.性别=i.性别,l.喜好=0,l.介绍=void 0,l.爱=55+random(10),l.经验=0,l.出身=i.出身,null==i.称呼?l.称呼="宫女":(l.称呼=i.称呼,l.出身=_all_nation[i.文化].名称+i.称呼),l.名字=i.名称,l.家族=i.家族,l.头像=i.跳,l.统帅=i.统帅,l.武力=i.武力,l.智力=i.智力,l.政治=i.政治,l.魅力=i.魅力,l.野心=i.野心,l.清廉=i.清廉,l.文化=i.文化,void(l.状态=0)!==i.性格?l.性格=i.性格:性格计算(l),l.id=void 0,l.孕=0,l.病=0,l.仙=0,l.护=0,l.生育=0,l.宫殿="",l.寝殿="",l.后宫相性="",l.后宫势力=0,l.朝廷相性=i.朝廷相性,l.朝廷势力=0,l.皇嗣相性="",null==n?册封名号(l,9):册封名号(l,n)}function 删除这个妃子的值(i){for(var n=0,l=0,e=0;e<主角.冷宫.length;)主角.冷宫[e].名字==i.名字&&(n=1),e++;for(e=0;e<主角.掖庭.length;)主角.掖庭[e].名字==i.名字&&(l=1),e++;for(0==n&&0==l&&"阿四"!==i.名字&&(主角.追封.push(i),console.log(i.名字+"可追封")),i.名字==国家.协理六宫[0]&&(国家.协理六宫[0]="无",国家.协理六宫[1]=50),e=0;e<_all_taijian.length;)_all_taijian[e].主子==i.id&&(_all_taijian[e].主子=void 0),e++;for(e=0;e<_all_gongnv.length;)_all_gongnv[e].主子==i.id&&(_all_gongnv[e].主子=void 0),e++;for(var e=0;e<_all_feizi.length;)_all_feizi[e].id==i.id&&(删除跟这个人有关的三方相性(i),_all_feizi.splice(e,1)),e++;刷新_all_palace居住情况(),刷新各个位分剩余名额(),计算后宫开销()}function 刷新各个位分剩余名额(){for(n=0,g=0;n<后宫位分.length;)后宫位分[n][3]=0,n++;for(n=0;n<九嫔位分.length;)九嫔位分[n][3]=0,n++;for(i=0;i<_all_feizi.length;){for(f=0;f<九嫔位分.length;)_all_feizi[i].位分==九嫔位分[f][1]&&(九嫔位分[f][3]+=1,g++),f++;i++}for(i=0;i<_all_feizi.length;){for(d=0;d<后宫位分.length;)_all_feizi[i].地位==后宫位分[d][0]?(后宫位分[d][3]+=1,console.log(后宫位分[d][1]+"已有"+后宫位分[d][3]+"个")):0!==g&&"九嫔"==后宫位分[d][1]&&(后宫位分[d][3]=g),d++;"秀女"==_all_feizi[i].位分&&(_all_feizi[i].地位=void 0),null==_all_feizi[i].地位&&(_all_feizi[i].位分="秀女"),i++}for(var i=0;i<九嫔位分.length;)className("jpsm")[i].innerText="已有"+九嫔位分[i][3]+"人，上限1人",i++;for(i=0;i<后宫位分.length;)"九嫔"==后宫位分[i][1]?className("mfsm")[i].innerText="已有"+后宫位分[i][3]+"人，上限9人":9999==后宫位分[i][2]?className("mfsm")[i].innerText="已有"+后宫位分[i][3]+"人，无上限":className("mfsm")[i].innerText="已有"+后宫位分[i][3]+"人，上限"+后宫位分[i][2]+"人",i++}function 自定义位分程序(){刷新各个位分剩余名额(),id("cf").style.display="block",id("wfb").style.display="block",id("zdywf").style.display="block",id("cfTittle").innerText="自定义位分",id("册封取消").onclick=function(){for(var i=0,n=[];i<后宫位分.length;)0==后宫位分[i][1].length&&n.push(i),i++;if(0!==n.length)for(i=n.length-1;0<=i;)_loc3_=n[i],12<=_loc3_?(后宫位分.splice(_loc3_,1),className("名分板")[_loc3_].remove(),className("mfsm")[_loc3_].remove()):(className("名分板")[_loc3_].style.display="none",className("mfsm")[_loc3_].style.display="none"),i--;id("cf").style.display="none",id("zdywf").style.display="none",刷新各个位分剩余名额()},id("-wf").onclick=function(){var i=后宫位分.length;1<i&&(后宫位分.splice(i-1,1),className("名分板")[i-1].style.display="none",className("mfsm")[i-1].style.display="none")},id("+wf").onclick=function(){var i,n,l,e,a,s=后宫位分.length;s<className("名分板").length?(e=s<12?[s,"",l=后宫位分备份[s][2],0]:[s,"",9999,0],后宫位分.push(e),className("名分板")[s].innerText="点击输入",className("名分板")[s].style.display="block",className("mfsm")[s].style.display="block",s<className("名分板").length&&s++):(i=后宫位分.length,n=Math.round((i+1)/3),0==(a=Math.round((i+1)/3)-(i+1)/3)?(s=2,n--):a<0?s=0:(s=1,n--),(a=document.createElement("button")).className="名分板",a.id="mf-"+i,a.style.left=50+250*s+"px",a.style.top=80+50*n+"px",a.innerText="点击输入",e=className("名分板").length<12?(l=后宫位分备份[className("名分板").length][2],[className("名分板").length,"",l,0]):[className("名分板").length,"",9999,0],后宫位分.push(e),console.log(后宫位分.length),a.取=后宫位分[后宫位分.length-1],a.onclick=function(){替换位分(this)},id("wfb").appendChild(a),(a=document.createElement("span")).className="mfsm",a.id="mfsm-"+i,a.style.left=180+250*s+"px",a.style.top=90+50*n+"px",a.innerText="已有0人，无上限",id("wfb").appendChild(a))};for(var i=0;i<后宫位分.length;)className("名分板")[i].style.display="block",className("mfsm")[i].style.display="block",className("名分板")[i].innerText=后宫位分[i][1],className("名分板")[i].取=后宫位分[i],className("名分板")[i].onclick=function(){替换位分(this)},i++}function 替换位分(a){id("册封取消").style.display="none",id("zdywf").style.display="none",id("wfb").style.display="none",id("御赐封号").style.display="block",id("cfsm").innerText="更改位分";var s=a.取[0];id("输入封号").value=a.取[1],id("输入封号").maxLength=3,id("随机封号").onclick=function(){},id("御赐封号确定").onclick=function(){var i=0;if("九嫔"==id("输入封号").value)for(var n=0;n<_all_feizi.length;)Math.floor(_all_feizi[n].地位)==s&&"秀女"!==_all_feizi[n].位分&&i++,n+=1;if(9<i)小提示("原位分超过9人！"),id("wfb").style.display="block",id("御赐封号").style.display="none",id("册封取消").style.display="block";else{for(var l=0,e=0;l<后宫位分.length;)id("输入封号").value==后宫位分[l][1]&&id("输入封号").value!==a.取[1]&&e++,l++;if(0!==e&&0<id("输入封号").value.length)小提示("已经有这个位分！！"),id("wfb").style.display="block",id("御赐封号").style.display="none",id("册封取消").style.display="block";else{后宫位分[s][1]=id("输入封号").value,className("名分板")[s].innerText=id("输入封号").value;for(n=0;n<_all_feizi.length;)Math.floor(_all_feizi[n].地位)==s&&"秀女"!==_all_feizi[n].位分&&("九嫔"==id("输入封号").value?(_all_feizi[n].位分=九嫔位分[i-1][1],九嫔位分[i-1][3]=1,_all_feizi[n].地位=后宫位分[s][0]+九嫔位分[i-1][0],--i):(_all_feizi[n].位分=id("输入封号").value,_all_feizi[n].地位=后宫位分[s][0])),n+=1;"九嫔"!==id("输入封号").value?定义位分上限(后宫位分[s]):(id("wfb").style.display="block",id("御赐封号").style.display="none",id("册封取消").style.display="block")}}}}function 定义位分上限(i){缓动黑幕(),id("cfsm").innerText="更改上限",id("输入封号").value=i[2],9999==i[2]&&(id("输入封号").value="无上限"),id("输入封号").maxLength=3,id("随机封号").onclick=function(){},id("御赐封号确定").onclick=function(){"无上限"==id("输入封号").value||9999==id("输入封号").value?i[2]=9999:isNaN(Number(id("输入封号").value))?小提示("不是数字！"):i[2]=Number(id("输入封号").value),刷新各个位分剩余名额(),id("wfb").style.display="block",id("御赐封号").style.display="none",id("册封取消").style.display="block",id("zdywf").style.display="block"}}function 家宴程序(){缓动黑幕(),id("youyuan").style.display="block",id("yyBG").src=LJ+"a0aPic_BG/Tu_846921.jpg";var n=看一下有多少活着的孩子();for(id("yyText").innerText=_all_feizi.length+"位妃嫔和"+n.length+"位子女以及诸位皇亲国戚们参加了皇家宴会，气氛十分热闹。\n（所有妃嫔爱情+2、所有子女关系+1）",i=0;i<_all_feizi.length;)_all_feizi[i].爱+=2,i++;for(i=0;i<_all_child.length;)_all_child[i].关系+=1,i++;id("yykuang").onclick=function(){国家.金钱-=5e4,更新资料(属性栏),主角.当前时辰+=1,时辰推进(),id("youyuan").style.display="none",120<=主角._relation_hongxingshou&&1==主角.红星寿&&4!==季&&红星寿_剧情_舔舐血刃_执行()}}function 协理六宫程序(){id("sy").style.display="block",id("syb").style.display="none",id("syb2").style.display="block",id("syTitle").innerText="",_loc1_="无"==国家.协理六宫[0]?"无":国家.协理六宫[0],id("sysm").innerText="协理六宫（目前是："+_loc1_+"）",id("qxsy").onclick=function(){id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none"},可选的妃子=[];for(var i=0;i<_all_feizi.length;)0<_all_feizi[i].地位&&_all_feizi[i].地位<4&&_all_feizi[i].地位<后宫位分.length&&可选的妃子.push(_all_feizi[i]),i+=1;if(0==可选的妃子.length)小提示("妃位以上才能协理六宫"),id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none";else for(var n=0;n<32;){var l=可选的妃子[n],e=className("sydb2")[n];null==l?e.style.display="none":(e.style.display="block",e.innerText=l.封号+l.位分,e.取=l,e.onclick=function(){this.取.名字==国家.协理六宫[0]?小提示("目前就是这位嫔妃协理六宫"):(国家.协理六宫[0]=this.取.名字,国家.协理六宫[1]=this.取.清廉,出圣旨(this.取.封号+this.取.位分+this.取.名字+"，恭敬贤惠，谦和宽仁，当属六宫表率，即刻起，着"+this.取.封号+this.取.位分+"协理六宫事宜。"),id("syb").style.display="block",id("syb2").style.display="none",id("sy").style.display="none")}),n+=1}}function 大封六宫程序(){id("hukoupucha").style.display="block",id("huhouTitle").innerText="大封六宫",id("huhouText").innerText="大封六宫可使美人及以下位分的妃子各晋位一级。确定要大封六宫吗？",id("hkan1").onclick=function(){id("hukoupucha").style.display="none"},id("hkan0").onclick=function(){for(i=0;i<_all_feizi.length;)7<=_all_feizi[i].地位&&_all_feizi[i].地位<后宫位分.length&&(--_all_feizi[i].地位,_all_feizi[i].位分=后宫位分[_all_feizi[i].地位][1]),i++;出圣旨("皇恩浩荡，封赦六宫，千秋万代，万凰永昌。后宫妃嫔凡"+后宫位分[7][1]+"及以下位分者，各晋升一级。"),id("hukoupucha").style.display="none"}}function 选妃程序(){缓动黑幕(),id("xfmb").style.display="block",id("xfsm").innerText="选择满意者留下";var i=[],n=[];for(d=0;d<_all_rencai.length;)""==_all_rencai[d].后宫相性&&void 0!==_all_rencai[d].家族&&8==_all_rencai[d].文化&&6!==_all_rencai[d].爵位&&n.push(_all_rencai[d]),d++;if(12<=n.length)for(var l=0;l<12;){var e=(t=n[random(n.length)]).家族;_loc14_=void 0!==t.官职?t.品阶+t.官职+t.名字:t.名字,关系=45<=t.年龄?"之女":"之妹";for(var a,s=[],o=0;o<后宫名人.length;)null==后宫名人[o].用过&&后宫名人[o].家族==t.家族&&s.push(后宫名人[o]),o+=1;0<s.length&&0==random(2)?(o=random(s.length),_loc13_=s[o].id,后宫名人[_loc13_].用过=1,后宫名人[_loc13_].出身=_loc14_+关系,后宫名人[_loc13_].魅力=后宫名人[_loc13_].魅力,后宫名人[_loc13_].家产=random(50)+10,后宫名人[_loc13_].修养=名妃修养计算(后宫名人[_loc13_]),后宫名人[_loc13_].朝廷相性=t.id,i.push(后宫名人[_loc13_])):((a=new Object).修养=random(12),a.头像=random(626)+1,0==random(2)?a.名称=e+女名[random(女名.length)]+女名[random(女名.length)]:a.名称=e+女名[random(女名.length)],a.出身=_loc14_+关系,a.家产=random(50)+10,a.家族=e,a.文化=t.文化,a.性别=1,a.魅力=random(30)+65,a.统帅=random(40),a.武力=random(40),a.智力=random(99),a.政治=random(99),a.家产=random(30)+6,a.魅力=random(30)+60,修养计算属性(a),性格计算(a),a.介绍=a.出身+"。",a.朝廷相性=t.id,i.push(a),l+=1)}else{for(l=0;l<n.length;){var t,e=(t=n[l]).家族;_loc14_=void 0!==t.官职?t.品阶+t.官职+t.名字:t.名字,关系=45<=t.年龄?"之女":"之妹";for(s=[],o=0;o<后宫名人.length;)null==后宫名人[o].用过&&后宫名人[o].家族==t.家族&&s.push(后宫名人[o]),o+=1;0<s.length&&0==random(2)?(o=random(s.length),_loc13_=s[o].id,后宫名人[_loc13_].用过=1,后宫名人[_loc13_].出身=_loc14_+关系,后宫名人[_loc13_].魅力=后宫名人[_loc13_].魅力,后宫名人[_loc13_].家产=random(50)+10,后宫名人[_loc13_].修养=名妃修养计算(后宫名人[_loc13_]),后宫名人[_loc13_].朝廷相性=t.id,i.push(后宫名人[_loc13_])):((a=new Object).修养=random(12),a.头像=random(626)+1,0==random(2)?a.名称=e+女名[random(女名.length)]+女名[random(女名.length)]:a.名称=e+女名[random(女名.length)],a.出身=t.品阶+t.名字+关系,a.家产=random(50)+10,a.家族=e,a.文化=t.文化,a.性别=1,a.魅力=random(30)+65,a.统帅=random(40),a.武力=random(40),a.智力=random(99),a.政治=random(99),a.家产=random(30)+6,a.魅力=random(30)+60,修养计算属性(a),性格计算(a),a.介绍=a.出身+"。",a.朝廷相性=t.id,i.push(a)),l+=1}for(l=n.length;l<12;){for(s=[],o=0;o<后宫名人.length;)null==后宫名人[o].用过&&s.push(后宫名人[o]),o+=1;0<s.length&&0==random(3)&&(o=random(s.length),_loc13_=s[o].id,后宫名人[_loc13_].出身=出身计算(2),后宫名人[_loc13_].用过=1,后宫名人[_loc13_].魅力=后宫名人[_loc13_].魅力,后宫名人[_loc13_].修养=名妃修养计算(_loc13_),后宫名人[_loc13_].家产=random(50)+10,后宫名人[_loc13_].朝廷相性="",i.push(后宫名人[_loc13_])),(a=new Object).修养=random(12),a.头像=random(626)+1,s=姓[random(姓.length)],o=4<random(10)?s+女名[random(女名.length)]+女名[random(女名.length)]:s+女名[random(女名.length)],a.名称=o,a.家族=s,a.文化=8,a.性别=1,a.出身=出身计算(2),a.统帅=random(40),a.武力=random(40),a.智力=random(99),a.政治=random(99),a.家产=random(30)+6,a.魅力=random(30)+60,修养计算属性(a),性格计算(a),a.朝廷相性="",a.介绍=a.出身+"。",i.push(a),l+=1}}for(s=0;s<12;)_loc20_=className("xfxb")[s],_loc20_.开关=0,_loc20_.序号=s,_loc20_.对象=i[s],_loc24_=_loc20_.对象.头像,className("xfxbmz")[s].innerText=_loc20_.对象.名称,null==_loc20_.对象._code?(className("xfxbmz")[s].style.color="#ffffff",_loc20_.src=LJ+"a0aPic_FeiZi/Tu_"+_loc24_+".jpg"):(className("xfxbmz")[s].style.color="#ff7300",_loc24_=_loc20_.对象.跳,_loc20_.src=LJ+"a0aPic_MingFei/Tu_"+_loc24_+".jpg"),_loc20_.onclick=function(){0==this.开关&&出现这个秀女的介绍(this.对象,1,className("xfxbmz")[this.序号])},s+=1;id("xfgb").style.display="block",id("xfgb").onclick=function(){for(var i=0,n=[];i<12;)className("xfxbmz")[i].innerText!==className("xfxb")[i].对象.名称?(n.push(className("xfxb")[i].对象.名称),收入储秀阁(className("xfxb")[i].对象)):className("xfxb")[i].对象.用过=void 0,i++;缓动黑幕(),id("xfmb").style.display="none",id("youyuan").style.display="block",id("yyBG").src=LJ+"a0aPic_BG/Tu_846921.jpg",id("yyText").innerText="本次选秀"+n.length+"人中选。",0!==n.length&&(id("yyText").innerText+="分别为："+n),id("yykuang").onclick=function(){id("youyuan").style.display="none",国家.金钱-=15e4,更新资料(属性栏),主角.当前时辰+=1,时辰推进()}}}function 修养计算属性(i){void 0!==i.修养&&0==i.修养?(i.野心=0,i.清廉=90):void 0!==i.修养&&1==i.修养?(i.野心=5,i.清廉=80):void 0!==i.修养&&2==i.修养?(i.野心=10,i.清廉=70):void 0!==i.修养&&3==i.修养?(i.野心=20,i.清廉=60):void 0!==i.修养&&4==i.修养?(i.野心=30,i.清廉=50):void 0!==i.修养&&5==i.修养?(i.野心=40,i.清廉=45):void 0!==i.修养&&6==i.修养?(i.野心=50,i.清廉=40):void 0!==i.修养&&7==i.修养?(i.野心=55,i.清廉=35):void 0!==i.修养&&8==i.修养?(i.野心=60,i.清廉=30):void 0!==i.修养&&9==i.修养?(i.野心=70,i.清廉=20):void 0!==i.修养&&10==i.修养?(i.野心=80,i.清廉=10):void 0!==i.修养&&11==i.修养&&(i.野心=90,i.清廉=5)}function 名妃修养计算(i){return _loc2_=i.野心<=10&&90<=i.清廉?0:i.野心<=20&&80<=i.清廉?1:i.野心<=30&&70<=i.清廉?2:i.野心<=40&&60<=i.清廉?3:i.野心<=50&&60<=i.清廉?4:i.野心<=60&&60<=i.清廉?5:60<=i.野心&&80<=i.清廉?6:60<=i.野心&&60<=i.清廉?7:60<=i.野心&&50<=i.清廉?8:70<=i.野心&&i.清廉<=40?9:80<=i.野心&&i.清廉<=30?10:90<=i.野心&&i.清廉<=20?11:6,_loc2_}function 掖庭程序(i){0<i.孕?小提示("妃嫔正在怀孕，无法送入掖庭。"):void 0!==i.省亲&&0<i.省亲?小提示("妃嫔回家省亲了，无法送入掖庭。"):(id("hukoupucha").style.display="block",id("huhouTitle").innerText="送入掖庭",id("huhouText").innerText="确认要把"+i.封号+i.位分+i.名字+"送入掖庭吗？\n\n注：送入掖庭的妃子会慢慢修正性格秉性和道德修养，但其余能力也会有所下降。在皇宫地图中进入掖庭可随时选择需要放出掖庭的嫔妃。",id("hkan1").onclick=function(){id("hukoupucha").style.display="none"},id("hkan0").onclick=function(){妃子入掖庭(i),id("hukoupucha").style.display="none"})}function 妃子入掖庭(i){出圣旨("即刻将"+i.封号+i.位分+i.名字+"送入掖庭悉心调教，望其虚心悔改，戒骄戒躁。"),主角.掖庭.push(i),删除跟这个人有关的三方相性(i),删除这个妃子的值(i),更新资料(属性栏),嫔妃一览程序(0)}function 放出掖庭(n){id("hukoupucha").style.display="block",id("huhouTitle").innerText="放出掖庭",id("huhouText").innerText="确认要把"+n.名字+"放出掖庭吗？。",id("hkan1").onclick=function(){id("hukoupucha").style.display="none"},id("hkan0").onclick=function(){for(复宠(n),i=0;i<主角.掖庭.length;)主角.掖庭[i].名字==n.名字&&主角.掖庭.splice(i,1),i++;id("hukoupucha").style.display="none",feiziyilan.style.display="none"}}function 复宠(i,n){var l=new Object;l._code=i._code,l.年龄=i.年龄,l.性别=i.性别,l.喜好=i.喜好,l.爱=i.爱,0==n&&(l.爱=55+random(10)),l.经验=i.经验,l.称呼="宫女",l.名字=i.名字,l.家族=i.家族,l.头像=i.头像,l.统帅=i.统帅,l.武力=i.武力,l.智力=i.智力,l.政治=i.政治,l.魅力=i.魅力,l.野心=i.野心,l.清廉=i.清廉,l.文化=i.文化,l.状态=i.状态,l.性格=i.性格,l.介绍=i.介绍,l.位分=i.位分,l.封号=i.封号,l.地位=i.地位,l.宫殿=i.宫殿,l.寝殿=i.寝殿,l.出身=i.出身,l.id=void 0,l.孕=0,l.病=i.病,l.仙=i.仙,l.护=0,l.生育=i.生育,l.后宫相性="",l.后宫势力=0,l.朝廷相性="",l.朝廷势力=0,l.皇嗣相性="",给她什么名号好呢(7,l)}function 冷宫执行程序(i){2<i.后宫势力&&5<i.朝廷势力?小提示("多位妃嫔和朝臣给她求情，无法打入冷宫。"):0<i.孕?小提示("妃嫔正在怀孕，无法打入冷宫。"):void 0!==i.省亲&&0<i.省亲?小提示("妃嫔回家省亲了，无法打入冷宫。"):打入冷宫去吧(i)}function 打入冷宫去吧(i){出圣旨(i.封号+i.位分+i.名字+"送入冷宫，从此不得迈出宫门半步。"),i.爱-=500,i.任性-=300,主角.冷宫.push(i),删除跟这个人有关的三方相性(i),删除这个妃子的值(i),属性.暴戾+=2,属性.道德-=5,更新资料(属性栏),嫔妃一览程序(0)}function 进入冷宫(){console.log("冷宫有多少人"+主角.冷宫.length),主角.冷宫执行=1,缓动黑幕(),id("youyuan").style.display="block",id("yyBG").src=LJ+"a0aPic_BG/Tu_222.jpg",id("yyText").innerText="冷宫嫔妃：“皇上，皇上，呜呜呜~~~”",id("yykuang").onclick=function(){0<主角.冷宫.length&&0==random(3)?(id("youyuan").style.display="none",主角.当前时辰+=1,时辰推进(),遇到冷宫中的女人()):(id("yyText").innerText="这冷宫阴气森森，不宜久留，还是回去吧。",id("yykuang").onclick=function(){id("youyuan").style.display="none",主角.当前时辰+=1,时辰推进()})}}function 遇到冷宫中的女人(){var i,n=random(主角.冷宫.length),l=主角.冷宫[n];i=0==l.性别?"臣":"臣妾",id("剧情对话").style.display="block",id("剧情背景").src=LJ+"a0aPic_BG/Tu_222.jpg",出现这个人的头像(剧情头像,剧情头像,l),对话打字效果(l.封号+l.位分+"：呜呜呜，没想到我也有这一天啊，这样活着还不如一死了之。"),剧情对话板.onclick=function(){对话打字效果("（"+l.封号+l.位分+"不堪忍受冷宫中的生活，正要自尽，皇上是否要出面？）",["出面","无视"]),id("剧情an1").onclick=function(){对话打字效果(l.封号+l.位分+"：皇上，人生苦短，"+i+"先走一步，愿我们来世再见吧。"),剧情对话板.onclick=function(){对话打字效果("（"+l.封号+l.位分+"自尽了。）"),剧情对话板.onclick=function(){主角.冷宫.splice(n,1),id("剧情对话").style.display="none",缓动黑幕()}}},id("剧情an0").onclick=function(){新后宫图形读取程序(剧情头像,0,"皇帝"),对话打字效果("皇上："+l.封号+l.位分+"……"),剧情对话板.onclick=function(){出现这个人的头像(剧情头像,l),对话打字效果(l.封号+l.位分+"：皇上，真的是皇上来了吗？"),剧情对话板.onclick=function(){新后宫图形读取程序(剧情头像,0,"皇帝"),对话打字效果("皇上：爱妃，怎么如此不堪……"),剧情对话板.onclick=function(){出现这个人的头像(剧情头像,l),对话打字效果(l.封号+l.位分+"：让皇上看见"+i+"现在这个样子，"+i+"还不如去死了，事到如今，不管"+i+"是否犯过大错，是否有心悔改，都已经不重要了，但愿皇上还能记得曾经有一个叫做"+l.名字+"的人侍奉过皇上吧，"+i+"先走一步……"),剧情对话板.onclick=function(){新后宫图形读取程序(剧情头像,0,"皇帝"),对话打字效果("皇上：爱妃且慢，朕当然记得昔日与你的情分，要不是你犯下大错，朕也不情愿你如此，若你有心悔改，也可以重新做朕的妃嫔。"),剧情对话板.onclick=function(){出现这个人的头像(剧情头像,l),对话打字效果(l.封号+l.位分+"：皇上，真的还爱"+i+"吗？"),剧情对话板.onclick=function(){新后宫图形读取程序(剧情头像,0,"皇帝"),对话打字效果("皇上：不然朕为什么还会站在冷宫与你对话呢？"),剧情对话板.onclick=function(){出现这个人的头像(剧情头像,l),对话打字效果("（"+l.封号+l.位分+"放下白绫，向皇上深深叩头）"+l.封号+l.位分+"："+i+"谢主隆恩。"),剧情对话板.onclick=function(){复宠(l,0),主角.冷宫.splice(n,1),id("剧情对话").style.display="none",缓动黑幕()}}}}}}}}}}}function 收入储秀阁(i){国家.妃子顺序+=1;var n=new Object;n._code=i._code,null==i.年龄?n.年龄=random(4)+15:n.年龄=i.年龄,n.性别=i.性别,n.喜好=0,n.爱=15+random(10),n._code=i._code,null==i.经验?n.经验=0:n.经验=i.经验,null==i.称呼?n.称呼="宫女":n.称呼=i.称呼,n.名字=i.名称,n.名称=i.名字,n.家族=i.家族,n.头像=i.跳,n.统帅=i.统帅,n.武力=i.武力,n.智力=i.智力,n.政治=i.政治,n.魅力=i.魅力,n.野心=i.野心,n.清廉=i.清廉,n.文化=i.文化,n.状态=0,null!=i._code&&void 0===i.头像||(n.介绍=i.介绍,n.头像=i.头像),void 0!==i.性格?n.性格=i.性格:性格计算(n),void 0!==i.出身?n.出身=i.出身:n.出身=出身计算(n),n.id=国家.妃子顺序,n.孕=0,n.病=0,n.仙=0,n.护=0,n.生育=0,n.地位=void 0,n.任性=random(10),n.位分="秀女",n.封号=i.家族,n.宫殿="",n.寝殿="",n.后宫相性="",n.后宫势力=0,n.朝廷相性=i.朝廷相性,n.朝廷势力=0,n.皇嗣相性="",_all_feizi.push(n),后宫记事记档(颜色代码(n.名字,"ff0000")+"进入储秀阁。",n.id)}function 宫人一览表(i,n){if(id("qxzb").style.display="none",id("jiajuanyilan").style.display="block",id("jjText").innerText="宫人一览",id("jia2").innerText="主子",id("jia4").innerText="宫殿",id("jia5").innerText="职务",id("jia6").innerText="能力",id("jia7").innerText="宫人俸禄",id("jia3").style.display="none",id("jia4").style.display="block",id("jia6").style.display="block",临时宫人列表=[],0==i){for(var l=0;l<_all_taijian.length;)临时宫人列表.push(_all_taijian[l]),l+=1;for(l=0;l<_all_gongnv.length;)临时宫人列表.push(_all_gongnv[l]),l+=1}else if(1==i){for(l=0;l<_all_taijian.length;)null==_all_taijian[l].主子&&临时宫人列表.push(_all_taijian[l]),l+=1;for(l=0;l<_all_gongnv.length;)null==_all_gongnv[l].主子&&临时宫人列表.push(_all_gongnv[l]),l+=1}else if(2==i||3==i){for(l=0;l<_all_taijian.length;)_all_taijian[l].主子==n.id&&临时宫人列表.push(_all_taijian[l]),l+=1;for(l=0;l<_all_gongnv.length;)_all_gongnv[l].主子==n.id&&临时宫人列表.push(_all_gongnv[l]),l+=1}临时宫人列表.sort(compare("主子")),序列=0,刷新宫人信息(i,n,临时宫人列表,序列),id("jiajuanqian").onclick=function(){0<序列&&(--序列,刷新宫人信息(i,n,临时宫人列表,序列))},id("jiajuanhou").onclick=function(){序列<Math.round(临时宫人列表.length/10)&&(序列+=1,刷新宫人信息(i,n,临时宫人列表,序列))},id("jia2").onclick=function(){宫人排序计算程序(i,n,临时宫人列表,"主子",0),序列=0,刷新宫人信息(i,n,临时宫人列表,序列)},id("jia5").onclick=function(){宫人排序计算程序(i,n,临时宫人列表,"职务",0),序列=0,刷新宫人信息(i,n,临时宫人列表,序列)},id("jia6").onclick=function(){宫人排序计算程序(i,n,临时宫人列表,"能力",0),序列=0,刷新宫人信息(i,n,临时宫人列表,序列)},id("jia7").onclick=function(){宫人排序计算程序(i,n,临时宫人列表,"俸禄",0),序列=0,刷新宫人信息(i,n,临时宫人列表,序列)}}function 刷新宫人信息(n,l,e,a){计算后宫开销();for(var i=0;i<className("jiajuanlbx").length;){var s=e[10*a+i],o=className("jiajuanlbx")[i];null==s?o.style.display="none":(o.style.display="block",s.能力=4,className("jj1")[i].style.color="#ffd0cb",className("jj1")[i].innerText=s.名称,null==s.主子?(className("jj2")[i].innerText="无",className("jj4")[i].innerText="无"):(className("jj2")[i].innerText=取出主子(s).封号+取出主子(s).位分+"/"+取出主子(s).名字,className("jj4")[i].innerText=_all_palace[取出主子(s).宫殿].名称),0==s.职务?className("jj5")[i].innerText="太监":1==s.职务&&(className("jj5")[i].innerText="宫女"),className("jj6")[i].innerText=s.能力,className("jj7")[i].innerText=s.俸禄+"两",className("jj3")[i].innerText="",o.取=s,o.onclick=function(){var i;0!==n&&(1==n?(i="秀女"==l.位分?0:后宫位分.length+1-l.地位+2*(_all_palace[l.宫殿].等级-1),1==this.取.职务&&l.宫女>=i?小提示("这个妃子拥有的宫女已达上限"):0==this.取.职务&&l.太监>=i?小提示("这个妃子拥有的太监已达上限"):(this.取.主子=l.id,刷新宫人信息(n,l,e,a),宫廷行政表(1))):2==n&&(this.取.主子=void 0,刷新宫人信息(n,l,e,a),宫廷行政表(0)))}),i+=1}}function 取出主子(n){for(i=0;i<_all_feizi.length;){var l;_all_feizi[i].id==n.主子&&(l=_all_feizi[i]),i++}return l}function 宫人排序计算程序(i,n,l,e,a){0==a?l.sortOn(e,18):1==a&&l.sortOn(e,16)}function 宫廷行政表(i){计算后宫开销(),id("junshibiao").style.display="block",id("jssm").style.display="none",id("jssmline").style.display="none",id("js3").style.display="block",id("js1").innerText="名字",id("js2").innerText="名号",id("js4").innerText="月例",id("js5").innerText="用度",id("js6").innerText="宫人俸禄",id("js7").innerText="太监",id("js8").innerText="宫女",id("js9").innerText="总计",id("jsTittle").innerText="宫廷行政",临时开销列表=[];for(var n=0;n<_all_feizi.length;)临时开销列表.push(_all_feizi[n]),n+=1;临时开销列表.sort(compare("地位")),序列=0,刷新开销列表信息(i,临时开销列表,序列),id("junshiqian").onclick=function(){0<序列&&(--序列,刷新开销列表信息(i,临时开销列表,序列))},id("junshihou").onclick=function(){序列<Math.round(临时开销列表.length/10)&&(序列+=1,刷新开销列表信息(i,临时开销列表,序列))},id("js2").onclick=function(){妃嫔排序计算程序(临时开销列表,"地位",1),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js3").onclick=function(){妃嫔排序计算程序(临时开销列表,"宫殿",1),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js4").onclick=function(){妃嫔排序计算程序(临时开销列表,"月例",0),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js5").onclick=function(){妃嫔排序计算程序(临时开销列表,"吃穿",0),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js6").onclick=function(){妃嫔排序计算程序(临时开销列表,"宫人俸禄",0),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js7").onclick=function(){妃嫔排序计算程序(临时开销列表,"太监",0),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js8").onclick=function(){妃嫔排序计算程序(临时开销列表,"宫女",0),序列=0,刷新开销列表信息(i,临时开销列表,序列)},id("js9").onclick=function(){妃嫔排序计算程序(临时开销列表,"总计",0),序列=0,刷新开销列表信息(i,临时开销列表,序列)}}function 刷新开销列表信息(i,n,l){for(var e=0;e<10;){var a=n[10*l+e],s=className("junshilbx")[e];null==a?s.style.display="none":(s.style.display="block",className("j1")[e].style.color="#ffffff",className("j1")[e].innerText=a.名字,className("j2")[e].innerText=a.封号+a.位分,"秀女"==a.位分?(className("j2")[e].innerText=a.位分,className("j3")[e].innerText="储秀阁",className("j7")[e].innerText="0/0",className("j8")[e].innerText="0/0"):(className("j3")[e].innerText=_all_palace[a.宫殿].名称,className("j7")[e].innerText=a.太监+"/"+Math.round(后宫位分.length+1-a.地位+_all_palace[a.宫殿].等级-1),className("j8")[e].innerText=a.宫女+"/"+Math.round(后宫位分.length+1-a.地位+_all_palace[a.宫殿].等级-1)),className("j4")[e].innerText=a.月例+"两",className("j5")[e].innerText=a.吃穿+"两",className("j6")[e].innerText=a.宫人俸禄+"两",className("j9")[e].innerText=a.总计+"两",s.取=a,s.onclick=function(){0==i?宫人一览表(3,this.取):1==i?宫人一览表(1,this.取):2==i&&宫人一览表(2,this.取)}),e+=1}}function 宫人程序(){id("neishi2").style.display="none",id("neishiMB").style.display="block",id("neishiBG").style.display="none",id("neishiTitle").innerText="调配宫人",id("neishiText").innerText="增加宫人：给某个妃嫔增加用人。\n削减宫人：削减某个妃嫔的用人。\n招募宫人：招募宫女太监各5名。\n辞退闲人：辞退所有闲着的宫人。",id("nsan0").innerText="辞退闲人",id("nsan1").innerText="招募宫人",id("nsan2").innerText="削减宫人",id("nsan3").innerText="增加宫人",id("nsan0").onclick=function(){辞退所有闲置宫人()},id("nsan1").onclick=function(){招募宫人()},id("nsan2").onclick=function(){宫廷行政表(2)},id("nsan3").onclick=function(){宫廷行政表(1)}}function 招募宫人(){if(1==主角.招募宫人)小提示("本月已经招募过宫人了");else{主角.招募宫人=1,出圣旨("命内务府招募一批宫女太监以侍奉皇宫内廷，即刻执行，不得有误。"),_all_taijian.push({id:_all_taijian.length,"俸禄":100,"名称":太监姓氏字库[random(太监姓氏字库.length)]+太监名字字库[random(太监名字字库.length)]+太监名字字库[random(太监名字字库.length)],"主子":void 0,"职务":0,"能力":1+random(3)}),_all_taijian.push({id:_all_taijian.length,"俸禄":100,"名称":太监姓氏字库[random(太监姓氏字库.length)]+太监名字字库[random(太监名字字库.length)]+太监名字字库[random(太监名字字库.length)],"主子":void 0,"职务":0,"能力":1+random(3)}),_all_taijian.push({id:_all_taijian.length,"俸禄":100,"名称":"小"+太监名字字库[random(太监名字字库.length)]+"子","主子":void 0,"职务":0,"能力":1+random(3)}),_all_taijian.push({id:_all_taijian.length,"俸禄":100,"名称":"小"+太监姓氏字库[random(太监姓氏字库.length)]+"子","主子":void 0,"职务":0,"能力":1+random(3)}),_all_taijian.push({id:_all_taijian.length,"俸禄":100,"名称":"小"+太监名字字库[random(太监名字字库.length)]+"子","主子":void 0,"职务":0,"能力":1+random(3)}),_all_gongnv.push({id:_all_gongnv.length,"俸禄":100,"名称":宫女名字字库[random(宫女名字字库.length)]+宫女名字字库二[random(宫女名字字库二.length)],"主子":void 0,"职务":1,"能力":1+random(3)}),_all_gongnv.push({id:_all_gongnv.length,"俸禄":100,"名称":"小"+宫女名字字库[random(宫女名字字库.length)],"主子":void 0,"职务":1,"能力":1+random(3)}),_all_gongnv.push({id:_all_gongnv.length,"俸禄":100,"名称":宫女名字字库[random(宫女名字字库.length)]+宫女名字字库二[random(宫女名字字库二.length)],"主子":void 0,"职务":1,"能力":1+random(3)}),_all_gongnv.push({id:_all_gongnv.length,"俸禄":100,"名称":"小"+宫女名字字库[random(宫女名字字库.length)],"主子":void 0,"职务":1,"能力":1+random(3)});for(var i=[],n=0;n<丫环名人.length;)null==丫环名人[n].用过&&i.push(丫环名人[n]),n+=1;if(0==random(2)&&0<i.length){var l=i[random(i.length)],e=l.跳,a=l.名称,s=l._code;for(_all_gongnv.push({id:_all_gongnv.length,"俸禄":100,"名称":a,"主子":void 0,"职务":1,"能力":4,_code:s,"名字":a,"头像":e,"跳":e}),n=0;n<丫环名人.length;)丫环名人[n]._code==l._code&&(丫环名人[n].用过=1),n+=1}else _all_gongnv.push({id:_all_gongnv.length,"俸禄":100,"名称":宫女名字字库[random(宫女名字字库.length)]+宫女名字字库二[random(宫女名字字库二.length)],"主子":void 0,"职务":1,"能力":1+random(3)})}}function 辞退所有闲置宫人(){出圣旨("为缩减宫廷开支，特命内务府辞退所有闲置宫女太监，即刻执行，不得有误。");for(var i=[],n=[],l=0;l<_all_taijian.length;)void 0!==_all_taijian[l].主子&&i.push(_all_taijian[l]),l+=1;for(var e=0;e<_all_gongnv.length;)void 0!==_all_gongnv[e].主子&&n.push(_all_gongnv[e]),e+=1;_all_taijian=i,_all_gongnv=n}function 辞退这个宫人(n){if(0==n.职务)for(i=0;i<_all_taijian.length;)_all_taijian[i].名称==n.名称&&_all_taijian.splice(i,1),i++;else if(1==n.职务)for(i=0;i<_all_gongnv.length;)_all_gongnv[i].名称==n.名称&&_all_gongnv.splice(i,1),i++}